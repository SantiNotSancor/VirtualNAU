{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lab2\\\\Documents\\\\GitHub\\\\VirtualNAU\\\\client\\\\src\\\\showData.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Table from 'react-bootstrap/Table';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  data: '',\n  //El nombre de la BD de la que sacamos los datos\n  table: [],\n  //La tabla de datos\n  actualTable: [],\n  //La tabla a mostrar\n  titles: [],\n  //Los atributos de la BD\n  headers: [],\n  //Los títulos que se mostrarán en la tabla\n  input: '',\n  //Ingreso de Inputbox para filtrar la tabla\n  filters: []\n};\nexport class ShowData extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = initialState;\n\n    this.resetState = () => this.setState(initialState);\n\n    this.setData = e => {\n      Axios.get('http://localhost:3307/get' + e.charAt(0).toUpperCase() + e.slice(1)).then(response => {\n        const res = response.data,\n              table = [],\n              titles = [];\n        console.log(res);\n        if (res) res.map(row => table.push(Object.values(row)));\n        let filters = [];\n        titles.map(title => {\n          //TODO: \n          switch (title) {\n            case 'description':\n            case 'name':\n              filters.push('input');\n              break;\n          }\n        });\n        Object.getOwnPropertyNames(res[0]).map(property => {\n          let header;\n\n          switch (property) {\n            case 'date':\n              header = 'Fecha';\n              break;\n\n            case 'id':\n              header = 'Código';\n              break;\n\n            case 'description':\n              header = 'Descripción';\n              break;\n\n            case 'name':\n              header = 'Nombre';\n              break;\n\n            case 'contact':\n              header = 'Contacto';\n              break;\n\n            case 'money':\n              header = this.state.data === 'Workshop' ? 'Cuenta corriente' : 'Saldo';\n              break;\n\n            case 'article_id':\n              header = 'Código de artículo';\n              break;\n\n            case 'article_description':\n              header = 'Descripción de artículo';\n              break;\n\n            case 'quantity':\n              header = 'Cantidad';\n              break;\n\n            case 'packages':\n              header = 'Bultos';\n              break;\n\n            case 'cutDate':\n              header = 'Fecha de corte';\n              break;\n\n            case 'fabrics':\n              header = 'Telas';\n              break;\n\n            case 'colors':\n              header = 'Colores';\n              break;\n\n            case 'responsable':\n              header = 'Responsable/s';\n              break;\n\n            case 'generalFeatures':\n              header = 'Detalles';\n              break;\n\n            case 'state':\n              header = 'Estado';\n              break;\n\n            case 'exitDate':\n              header = 'Fecha de salida';\n              break;\n\n            case 'deadline':\n              header = 'Fecha esperada';\n              break;\n\n            case 'weight':\n              header = 'Peso';\n              break;\n\n            case 'price':\n              header = 'Precio unitario';\n              break;\n\n            case 'threads':\n              header = 'Hilos entregados';\n              break;\n\n            case 'calification':\n              header = 'Calificación';\n              break;\n\n            case 'observations':\n              header = 'Observaciones';\n              break;\n\n            case 'faulty':\n              header = 'Fallados';\n              break;\n          }\n\n          titles.push(header);\n        });\n        console.log(filters);\n        this.setState({\n          titles,\n          table,\n          data: e,\n          filters\n        });\n      });\n    };\n\n    this.table = (row, index, titles) => {\n      const {\n        data\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: row.map((e, i) => {\n          let cell = e;\n          return /*#__PURE__*/_jsxDEV(\"td\", {\n            children: cell\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 20\n          }, this);\n        })\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 16\n      }, this);\n    };\n  }\n\n  render() {\n    const {\n      table,\n      titles\n    } = this.state,\n          data = {\n      'articles': 'Artículos',\n      'workshops': 'Talleres',\n      'payments': 'Pagos',\n      'tasks': 'Tareas'\n    };\n    let title = 'Elegir datos a mostrar',\n        dropdownList = [];\n\n    for (const key in data) dropdownList.push(key);\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(DropdownButton, {\n        title: title,\n        onSelect: e => {\n          //Define la BD a mostrar\n          this.setData(e);\n          title = data.e;\n        },\n        children: dropdownList.map((e, index) => /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          eventKey: e,\n          children: data[e]\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 53\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this), titles && table ? /*#__PURE__*/_jsxDEV(Table, {\n        striped: true,\n        bordered: true,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: titles.map((title, i) => /*#__PURE__*/_jsxDEV(\"th\", {\n              children: title\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 59\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [this.state.filters.map(filter => {\n            switch (filter) {\n              case 'input':\n                return /*#__PURE__*/_jsxDEV(FormControl, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 48\n                }, this);\n            }\n          }), table.map((row, i) => this.table(row, i, titles))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }, this) : null]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Lab2/Documents/GitHub/VirtualNAU/client/src/showData.js"],"names":["React","Component","Axios","Dropdown","DropdownButton","Form","FormControl","Table","initialState","data","table","actualTable","titles","headers","input","filters","ShowData","state","resetState","setState","setData","e","get","charAt","toUpperCase","slice","then","response","res","console","log","map","row","push","Object","values","title","getOwnPropertyNames","property","header","index","i","cell","render","dropdownList","key","filter"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Axios from 'axios';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport DropdownButton from 'react-bootstrap/DropdownButton';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport Table from 'react-bootstrap/Table';\r\n\r\nconst initialState = {\r\n    data: '', //El nombre de la BD de la que sacamos los datos\r\n    table: [],//La tabla de datos\r\n    actualTable: [],//La tabla a mostrar\r\n    titles: [],//Los atributos de la BD\r\n    headers: [],//Los títulos que se mostrarán en la tabla\r\n    input: '',   //Ingreso de Inputbox para filtrar la tabla\r\n    filters: []\r\n};\r\n\r\nexport class ShowData extends Component {\r\n\r\n    state = initialState;\r\n\r\n    resetState = () => this.setState(initialState);\r\n\r\n    setData = e => {\r\n        Axios.get('http://localhost:3307/get' + e.charAt(0).toUpperCase() + e.slice(1)).then(response => {\r\n            const res = response.data, table = [], titles = [];\r\n            console.log(res);\r\n            if (res)\r\n                res.map(row => table.push(Object.values(row)));\r\n            let filters = [];\r\n            titles.map((title) => {//TODO: \r\n                switch(title){\r\n                    case 'description':\r\n                    case 'name':\r\n                        filters.push('input');\r\n                        break;\r\n                }\r\n            })\r\n            Object.getOwnPropertyNames(res[0]).map(property => {\r\n                let header;\r\n                switch (property) {\r\n                    case 'date':\r\n                        header = 'Fecha';\r\n                        break;\r\n                    case 'id':\r\n                        header = 'Código';\r\n                        break;\r\n                    case 'description':\r\n                        header = 'Descripción';\r\n                        break;\r\n                    case 'name':\r\n                        header = 'Nombre';\r\n                        break;\r\n                    case 'contact':\r\n                        header = 'Contacto';\r\n                        break;\r\n                    case 'money':\r\n                        header = (this.state.data === 'Workshop') ? 'Cuenta corriente' : 'Saldo';\r\n                        break;\r\n                    case 'article_id':\r\n                        header = 'Código de artículo';\r\n                        break;\r\n                    case 'article_description':\r\n                        header = 'Descripción de artículo';\r\n                        break;\r\n                    case 'quantity':\r\n                        header = 'Cantidad';\r\n                        break;\r\n                    case 'packages':\r\n                        header = 'Bultos';\r\n                        break;\r\n                    case 'cutDate':\r\n                        header = 'Fecha de corte';\r\n                        break;\r\n                    case 'fabrics':\r\n                        header = 'Telas';\r\n                        break;\r\n                    case 'colors':\r\n                        header = 'Colores';\r\n                        break;\r\n                    case 'responsable':\r\n                        header = 'Responsable/s';\r\n                        break;\r\n                    case 'generalFeatures':\r\n                        header = 'Detalles';\r\n                        break;\r\n                    case 'state':\r\n                        header = 'Estado';\r\n                        break;\r\n                    case 'exitDate':\r\n                        header = 'Fecha de salida';\r\n                        break;\r\n                    case 'deadline':\r\n                        header = 'Fecha esperada';\r\n                        break;\r\n                    case 'weight':\r\n                        header = 'Peso';\r\n                        break;\r\n                    case 'price':\r\n                        header = 'Precio unitario';\r\n                        break;\r\n                    case 'threads':\r\n                        header = 'Hilos entregados';\r\n                        break;\r\n                    case 'calification':\r\n                        header = 'Calificación';\r\n                        break;\r\n                    case 'observations':\r\n                        header = 'Observaciones';\r\n                        break;\r\n                    case 'faulty':\r\n                        header = 'Fallados';\r\n                        break;\r\n                }\r\n                titles.push(header);\r\n            });\r\n            console.log(filters);\r\n            this.setState({ titles, table, data: e, filters });\r\n        });\r\n    }\r\n\r\n    table = (row, index, titles) => {\r\n        const { data } = this.state;\r\n        return <tr key={index}>{row.map((e, i) => {\r\n            let cell = e;\r\n            return <td key={i}>{cell}</td>;\r\n        })}</tr>\r\n    }\r\n\r\n    render() {\r\n        const { table, titles } = this.state, data = { 'articles': 'Artículos', 'workshops': 'Talleres', 'payments': 'Pagos', 'tasks': 'Tareas' };\r\n        let title = 'Elegir datos a mostrar', dropdownList = [];\r\n        for (const key in data)\r\n            dropdownList.push(key);\r\n        return (\r\n            <>\r\n                <DropdownButton title={title} onSelect={e => {//Define la BD a mostrar\r\n                    this.setData(e);\r\n                    title = data.e;\r\n                }}>\r\n                    {dropdownList.map((e, index) => <Dropdown.Item key={index} eventKey={e}>{data[e]}</Dropdown.Item>)}\r\n                </DropdownButton>\r\n                {(titles && table) ?\r\n                    <Table striped bordered>\r\n                        <thead>\r\n                            <tr>\r\n                                {titles.map((title, i) => <th key={i}>{title}</th>)}\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.state.filters.map((filter) => {\r\n                                switch (filter) {\r\n                                    case 'input':\r\n                                        return <FormControl />\r\n                                }\r\n                            })}\r\n                            {table.map((row, i) => this.table(row, i, titles))}\r\n                        </tbody>\r\n                    </Table>\r\n                    : null}\r\n            </>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}