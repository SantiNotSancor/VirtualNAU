{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\OneDrive\\\\Escritorio\\\\fabrica\\\\client\\\\src\\\\Menu\\\\newTask.js\";\nimport React, { Component } from 'react';\nimport { ModalOpener } from './modalOpener';\nimport { Request } from '../textInputs';\nimport image from './Images/NewTask.svg';\nimport Axios from 'axios';\nimport Form from 'react-bootstrap/Form';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class NewTaskButton extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      name: '',\n      article: '',\n      quantity: '',\n      task: '',\n      weight: '',\n      price: '',\n      deadline: ''\n    };\n\n    this.myForm = () => {\n      Axios.get('http://localhost:3001/getTaskCount').then(response => {\n        this.setState({\n          task: response.data[response.data.length - 1]\n        });\n      });\n      return /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Request, {\n          toShow: \"name\",\n          onChange: element => {\n            this.setState({\n              name: element\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Request, {\n          toShow: \"article\",\n          onChange: event => {\n            this.setState({\n              article: event.target.value\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Request, {\n          toShow: \"quantityArticle\",\n          onChange: event => {\n            this.setState({\n              quantity: event.target.value\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Request, {\n          toShow: \"task\",\n          onChange: event => {\n            this.setState({\n              task: event.target.value\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Request, {\n          toShow: \"weight\",\n          onChange: event => {\n            this.setState({\n              weight: event.target.value\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Request, {\n          toShow: \"price\",\n          onChange: event => {\n            this.setState({\n              price: event.target.value\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Request, {\n          toShow: \"deadline\",\n          onChange: event => {\n            this.setState({\n              deadline: event.target.value\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.post = () => {\n      Axios.post('http://localhost:3001/getDescriptionWhere', {\n        id: this.state.article\n      }).then(response => {\n        console.log(this.state.task);\n        console.log(`http://localhost:3001/deleteTask/${this.state.task}`);\n        Axios.delete(`http://localhost:3001/deleteTask/${this.state.task}`).then(() => {\n          Axios.post('http://localhost:3001/updateTaskCount', {\n            task: this.state.task\n          });\n          Axios.post('http://localhost:3001/newTask', {\n            name: this.state.name,\n            article: this.state.article,\n            quantity: this.state.quantity,\n            task: this.state.task,\n            date: moment(new Date()).format(\"DD/MM/YYYY\"),\n            weight: this.state.weight,\n            price: this.state.price,\n            article_description: response.data[0].description,\n            deadline: this.state.deadline\n          });\n        });\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(ModalOpener, {\n      buttonText: \"Nueva tarea\",\n      children: this.myForm(),\n      className: 'title',\n      logo: image,\n      title: 'Egreso de tarea',\n      post: this.post\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this) //Crea un botÃ³n que abre a un modal en el que aparecerÃ¡ lo devuelto en this.myForm\n    ;\n  }\n\n}","map":{"version":3,"sources":["C:/Users/PC/OneDrive/Escritorio/fabrica/client/src/Menu/newTask.js"],"names":["React","Component","ModalOpener","Request","image","Axios","Form","moment","NewTaskButton","state","name","article","quantity","task","weight","price","deadline","myForm","get","then","response","setState","data","length","element","event","target","value","post","id","console","log","delete","date","Date","format","article_description","description","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { ModalOpener } from './modalOpener';\r\nimport { Request } from '../textInputs';\r\nimport image from './Images/NewTask.svg';\r\nimport Axios from 'axios';\r\nimport Form from 'react-bootstrap/Form';\r\nimport moment from 'moment';\r\n\r\nexport class NewTaskButton extends Component {\r\n    state = {\r\n        name: '',\r\n        article: '',\r\n        quantity: '',\r\n        task: '',\r\n        weight: '',\r\n        price: '',\r\n        deadline: ''\r\n    }\r\n\r\n\r\n    myForm = () => {\r\n        Axios.get('http://localhost:3001/getTaskCount').then(response => {\r\n            this.setState({ task: response.data[response.data.length - 1] });\r\n        });\r\n        return (\r\n            <Form>\r\n                <Request toShow=\"name\" onChange={(element) => {\r\n                    this.setState({ name: element });\r\n                }} />\r\n\r\n                <Request toShow=\"article\" onChange={(event) => {\r\n                    this.setState({ article: event.target.value });\r\n                }} />\r\n\r\n                <Request toShow=\"quantityArticle\" onChange={(event) => {\r\n                    this.setState({ quantity: event.target.value });\r\n                }} />\r\n\r\n                <Request toShow=\"task\" onChange={(event) => {\r\n                    this.setState({ task: event.target.value });\r\n                }} />\r\n\r\n                <Request toShow=\"weight\" onChange={(event) => {\r\n                    this.setState({ weight: event.target.value });\r\n                }} />\r\n\r\n                <Request toShow=\"price\" onChange={(event) => {\r\n                    this.setState({ price: event.target.value });\r\n                }} />\r\n\r\n                <Request toShow=\"deadline\" onChange={(event) => {\r\n                    this.setState({ deadline: event.target.value });\r\n                }} />\r\n            </Form>\r\n        );\r\n    }\r\n\r\n    post = () => {\r\n        \r\n        Axios.post('http://localhost:3001/getDescriptionWhere', { id: this.state.article }).then((response) => {\r\n            console.log(this.state.task);\r\n            console.log(`http://localhost:3001/deleteTask/${this.state.task}`);\r\n            Axios.delete(`http://localhost:3001/deleteTask/${this.state.task}`).then(() => {\r\n                Axios.post('http://localhost:3001/updateTaskCount', { task: this.state.task });\r\n                Axios.post('http://localhost:3001/newTask',\r\n                    {\r\n                        name: this.state.name, article: this.state.article, quantity: this.state.quantity,\r\n                        task: this.state.task, date: moment(new Date()).format(\"DD/MM/YYYY\"), weight: this.state.weight,\r\n                        price: this.state.price, article_description: response.data[0].description, deadline: this.state.deadline\r\n                    });\r\n            });\r\n        });\r\n    }\r\n    render() {\r\n        return (\r\n            <ModalOpener buttonText='Nueva tarea' children={this.myForm()}\r\n                className={'title'} logo={image} title={'Egreso de tarea'} post={this.post} />\r\n            //Crea un botÃ³n que abre a un modal en el que aparecerÃ¡ lo devuelto en this.myForm\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}