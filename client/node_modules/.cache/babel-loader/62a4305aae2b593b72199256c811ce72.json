{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lab2\\\\Documents\\\\GitHub\\\\VirtualNAU\\\\client\\\\src\\\\Menu\\\\showData.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Table from 'react-bootstrap/Table';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  data: '',\n  table: '',\n  titles: [],\n  headers: []\n};\nexport class ShowData extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = initialState;\n\n    this.resetState = () => {\n      this.setState(initialState);\n    };\n\n    this.setData = e => {\n      Axios.get('http://localhost:3307/get' + e.charAt(0).toUpperCase() + e.slice(1)).then(response => {\n        const res = response.data;\n        const table = [];\n        console.log(res);\n        if (res) res.map(row => table.push(Object.values(row)));\n        this.setState({\n          titles: Object.getOwnPropertyNames(res[0]),\n          table,\n          data: e\n        });\n      });\n    };\n\n    this.header = (name, index) => {\n      let header = name,\n          show = true;\n\n      switch (name) {\n        case 'id':\n          header = 'Código';\n          show = this.state.data !== 'workshop' && this.state.data !== 'payments';\n          break;\n\n        case 'description':\n          header = 'Descripción';\n          break;\n\n        case 'name':\n          header = 'Nombre';\n          break;\n\n        case 'contact':\n          header = 'Contacto';\n          break;\n\n        case 'money':\n          header = this.state.data === 'Workshop' ? 'Cuenta corriente' : 'Dinero';\n          break;\n\n        case 'article_id':\n          header = 'Código de artículo';\n          break;\n\n        case 'article_description':\n          header = 'Descripción de artículo';\n          break;\n\n        case 'quantity':\n          header = 'Cantidad';\n          break;\n\n        case 'packages':\n          header = 'Bultos';\n          break;\n\n        case 'cutDate':\n          header = 'Fecha de corte';\n          break;\n\n        case 'fabrics':\n          header = 'Telas';\n          break;\n\n        case 'colors':\n          header = 'Colores';\n          break;\n\n        case 'responsable':\n          header = 'Responsable/s';\n          break;\n\n        case 'generalFeatures':\n          header = 'Detalles';\n          break;\n\n        case 'state':\n          header = 'Estado';\n          break;\n\n        case 'exitDate':\n          header = 'Fecha de salida';\n          break;\n\n        case 'deadline':\n          header = 'Fecha esperada';\n          break;\n\n        case 'weight':\n          header = 'Peso';\n          break;\n\n        case 'price':\n          header = 'Precio unitario';\n          break;\n\n        case 'threads':\n          header = 'Hilos entregados';\n          break;\n\n        case 'calification':\n          header = 'Calificación';\n          break;\n\n        case 'observations':\n          header = 'Observaciones';\n          break;\n\n        case 'faulty':\n          header = 'Fallados';\n          break;\n      }\n\n      console.log(header + '   ' + show + '     ' + this.state.data);\n      if (show) this.setState(this.state.headers ? {\n        headers: [...this.state.headers, name]\n      } : {\n        headers: [name]\n      });\n      return show ? /*#__PURE__*/_jsxDEV(\"th\", {\n        children: header\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 24\n      }, this) : null;\n    };\n\n    this.table = (row, index) => {\n      const {\n        table,\n        data\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: row.map((cell, i) => {\n          return cell || cell === 0 ? /*#__PURE__*/_jsxDEV(\"td\", {\n            children: cell\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 43\n          }, this) : null;\n        })\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 16\n      }, this);\n    };\n  }\n\n  render() {\n    const {\n      table,\n      titles\n    } = this.state,\n          data = {\n      'articles': 'Artículos',\n      'workshops': 'Talleres',\n      'payments': 'Pagos',\n      'tasks': 'Tareas'\n    };\n    let title = 'Elegir datos a mostrar',\n        dropdownList = [];\n\n    for (const key in data) dropdownList.push(key);\n\n    console.log(dropdownList);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(DropdownButton, {\n        title: title,\n        onSelect: e => {\n          this.setData(e);\n          title = data.e;\n        },\n        children: dropdownList.map((e, index) => /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          eventKey: e,\n          children: data[e]\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 53\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), titles && table ? /*#__PURE__*/_jsxDEV(Table, {\n        striped: true,\n        bordered: true,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: titles.map((title, i) => this.header(title, i))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: table.map((row, i) => this.table(row, i))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }, this) : null]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Lab2/Documents/GitHub/VirtualNAU/client/src/Menu/showData.js"],"names":["React","Component","Axios","Dropdown","DropdownButton","Table","initialState","data","table","titles","headers","ShowData","state","resetState","setState","setData","e","get","charAt","toUpperCase","slice","then","response","res","console","log","map","row","push","Object","values","getOwnPropertyNames","header","name","index","show","cell","i","render","title","dropdownList","key"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Axios from 'axios';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport DropdownButton from 'react-bootstrap/DropdownButton';\r\nimport Table from 'react-bootstrap/Table';\r\n\r\nconst initialState = {\r\n    data: '',\r\n    table: '',\r\n    titles: [],\r\n    headers: []\r\n};\r\n\r\nexport class ShowData extends Component {\r\n\r\n    state = initialState;\r\n\r\n    resetState = () => {\r\n        this.setState(initialState);\r\n    }\r\n\r\n    setData = e => {\r\n        Axios.get('http://localhost:3307/get' + e.charAt(0).toUpperCase() + e.slice(1)).then(response => {\r\n            const res = response.data;\r\n            const table = [];\r\n            console.log(res);\r\n            if (res)\r\n                res.map(row => table.push(Object.values(row)));\r\n            this.setState({ titles: Object.getOwnPropertyNames(res[0]), table, data: e });\r\n        });\r\n    }\r\n\r\n    header = (name, index) => {\r\n        let header = name, show = true;\r\n        switch (name) {\r\n            case 'id':\r\n                header = 'Código';\r\n                show = (this.state.data !== 'workshop' && this.state.data !== 'payments');\r\n                break;\r\n            case 'description':\r\n                header = 'Descripción';\r\n                break;\r\n            case 'name':\r\n                header = 'Nombre';\r\n                break;\r\n            case 'contact':\r\n                header = 'Contacto';\r\n                break;\r\n            case 'money':\r\n                header = (this.state.data === 'Workshop') ? 'Cuenta corriente' : 'Dinero';\r\n                break;\r\n            case 'article_id':\r\n                header = 'Código de artículo';\r\n                break;\r\n            case 'article_description':\r\n                header = 'Descripción de artículo';\r\n                break;\r\n            case 'quantity':\r\n                header = 'Cantidad';\r\n                break;\r\n            case 'packages':\r\n                header = 'Bultos';\r\n                break;\r\n            case 'cutDate':\r\n                header = 'Fecha de corte';\r\n                break;\r\n            case 'fabrics':\r\n                header = 'Telas';\r\n                break;\r\n            case 'colors':\r\n                header = 'Colores';\r\n                break;\r\n            case 'responsable':\r\n                header = 'Responsable/s';\r\n                break;\r\n            case 'generalFeatures':\r\n                header = 'Detalles';\r\n                break;\r\n            case 'state':\r\n                header = 'Estado';\r\n                break;\r\n            case 'exitDate':\r\n                header = 'Fecha de salida';\r\n                break;\r\n            case 'deadline':\r\n                header = 'Fecha esperada';\r\n                break;\r\n            case 'weight':\r\n                header = 'Peso';\r\n                break;\r\n            case 'price':\r\n                header = 'Precio unitario';\r\n                break;\r\n            case 'threads':\r\n                header = 'Hilos entregados';\r\n                break;\r\n            case 'calification':\r\n                header = 'Calificación';\r\n                break;\r\n            case 'observations':\r\n                header = 'Observaciones';\r\n                break;\r\n            case 'faulty':\r\n                header = 'Fallados';\r\n                break;\r\n        }\r\n        console.log(header + '   ' + show + '     ' + this.state.data);\r\n        if(show) this.setState(this.state.headers ? { headers: [...this.state.headers, name] } : { headers: [name] });\r\n        return (show ? <th key={index}>{header}</th> : null);\r\n    }\r\n\r\n    table = (row, index) => {\r\n        const { table, data } = this.state;\r\n        return <tr key={index}>{row.map((cell, i) => {\r\n            return (cell || cell === 0) ? <td key={i}>{cell}</td> : null;\r\n        })}</tr>\r\n    }\r\n\r\n    render() {\r\n        const { table, titles } = this.state, data = { 'articles': 'Artículos', 'workshops': 'Talleres', 'payments': 'Pagos', 'tasks': 'Tareas' };\r\n        let title = 'Elegir datos a mostrar', dropdownList = [];\r\n        for (const key in data)\r\n            dropdownList.push(key);\r\n\r\n        console.log(dropdownList);\r\n        return (\r\n            <>\r\n                <DropdownButton title={title} onSelect={e => {\r\n                    this.setData(e);\r\n                    title = data.e;\r\n                }}>\r\n                    {dropdownList.map((e, index) => <Dropdown.Item key={index} eventKey={e}>{data[e]}</Dropdown.Item>)}\r\n                </DropdownButton>\r\n                {(titles && table) ?\r\n                    <Table striped bordered>\r\n                        <thead>\r\n                            <tr>\r\n                                {titles.map((title, i) => this.header(title, i))}\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {table.map((row, i) => this.table(row, i))}\r\n                        </tbody>\r\n                    </Table>\r\n                    : null}\r\n            </>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}